function renderWebmentions(e){getWebmentions(e.dataset.webmentions).then(function(n){if(0!==n.length){const t=document.createElement("ul");t.className="webmentions",n.forEach(function(e){const n=renderWebmention(e);if(n)return t.appendChild(n)}),e.appendChild(t)}})}function getWebmentions(e){return fetch("https://webmention.io/api/mentions.jf2?target="+e).then(function(e){return e.json()}).then(function(e){return e.children})}function renderWebmention(e){function n(e,n,t){o.querySelector(e)[n]=t}const t={"in-reply-to":"replied","like-of":"liked","repost-of":"reposted","mention-of":"mentioned"}[e["wm-property"]];if(!t)return null;const o=document.importNode(document.getElementById("webmention-template").content,!0);n(".webmention .author","href",e.author.url||e.url),n(".webmention .author-name","textContent",e.author.name),n(".webmention .action","href",e.url);const r=new Date(e["wm-received"]);return n(".webmention .action","textContent",t+" on "+r.toLocaleDateString(undefined,{day:"numeric",month:"short",year:"numeric"})+" at "+r.toLocaleTimeString(undefined,{hour:"numeric",minute:"numeric"})),"replied"==t&&e.content&&n(".webmention .content","innerHTML",e.content.html||e.content.text),o}const container=document.querySelector("[data-webmentions]");container&&renderWebmentions(container);